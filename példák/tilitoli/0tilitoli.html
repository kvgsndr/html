<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tili-Toli</title>
</head>

<script>

var pictures=new Array();
for(var i=1;i<17;i++)
{
	pictures[i]=new Image();
	pictures[i].src=i + ".JPG";
}

var whereIs=new Array();
for(var i=1;i<17;i++)
{
	whereIs[i]=new Image();
	whereIs[i].src=i + ".JPG";
}
whereIs[17]=new Image();
whereIs[17].src="16.JPG";
var empty=16;
var step=0;
function shuffle()
{
	for(var i=1;i<1000;i++)
	{
		var number=Math.random();
		number=number*15;
		number=Math.ceil(number);
		if((empty==(number+1)) && (((empty%4)-1)!=0) || (empty==number-1) && (((number%4)-1)!=0) || empty==number+4 || empty==number-4 )
		{
			document.images["kep"+number].src=whereIs[empty].src;
			document.images["kep"+empty].src=whereIs[number].src;
			whereIs[empty].src=whereIs[number].src;
			whereIs[number].src=whereIs[17].src;
			empty=number;
		}
	}
	step=0;
}
function swapPicture(id)
{
	id=parseInt(id);
	
	if((empty==(id+1)) && (((empty%4)-1)!=0) || (empty==id-1) && (((id%4)-1)!=0) || empty==id+4 || empty==id-4 )
	{
		document.images["kep"+id].src=whereIs[empty].src;
		document.images["kep"+empty].src=whereIs[id].src;
		whereIs[empty].src=whereIs[id].src;
		whereIs[id].src=whereIs[17].src;
		empty=id;
		step++;
		isReady();
	}
}
function isReady()
{
	for(var i=1;i<17;i++)
	{
		if(pictures[i].src!=whereIs[i].src)
		return false;
	}
	return alert("Ön nyert! Lépéseinek száma: " + step);
}
function original()
{
	window.open("eredeti.JPG",'Tina','','')	
	
}
</script>
<noscript><p>Engedélyezze a JavaScript használatát!</p></noscript>

<body>
<img src="1.JPG" id="1" name="kep1" onclick="swapPicture(this.id)" />
<img src="2.JPG" id="2" name="kep2" onclick="swapPicture(this.id)" />
<img src="3.JPG" id="3" name="kep3" onclick="swapPicture(this.id)" />
<img src="4.JPG" id="4" name="kep4" onclick="swapPicture(this.id)" /><br>
<img src="5.JPG" id="5" name="kep5" onclick="swapPicture(this.id)" />
<img src="6.JPG" id="6" name="kep6" onclick="swapPicture(this.id)" />
<img src="7.JPG" id="7" name="kep7" onclick="swapPicture(this.id)" />
<img src="8.JPG" id="8" name="kep8" onclick="swapPicture(this.id)" /><br>
<img src="9.JPG" id="9" name="kep9" onclick="swapPicture(this.id)" />
<img src="10.JPG" id="10" name="kep10" onclick="swapPicture(this.id)" />
<img src="11.JPG" id="11" name="kep11" onclick="swapPicture(this.id)" />
<img src="12.JPG" id="12" name="kep12" onclick="swapPicture(this.id)" /><br>
<img src="13.JPG" id="13" name="kep13" onclick="swapPicture(this.id)" />
<img src="14.JPG" id="14" name="kep14" onclick="swapPicture(this.id)" />
<img src="15.JPG" id="15" name="kep15" onclick="swapPicture(this.id)" />
<img src="16.JPG" id="16" name="kep16" onclick="swapPicture(this.id)" />
<input type="button" value="Kever" onclick="shuffle()" />
<input type="button" value="Megnéz" onclick="original()" />
</body>

</html>
